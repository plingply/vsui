!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t["vscoding-ui"]=e()}(this,function(){"use strict";var t={name:"ui-pop",template:'<transition name="fade"> <div class="ui-pop" ref="uiPopover" data-popver="uipopover" v-show="show" :style="{width:width+\'px\'}"> <div class="ui-popheader" :class="{uiPopright:pos==\'left\',uiPopleft:pos==\'right\'}"> <span class="ui-pop_close" @click="show = false"><i class="el-icon-close"></i></span> <slot name="header"></slot> </div> <div class="ui-popfooter"> <slot name="footer"></slot> </div> </div> </transition>',props:{width:{type:String,default:400},pref:{type:String,required:!0},positon:{type:String,default:"right"},canshow:{type:Boolean,default:!0}},data:function(){return{show:!1,pos:"left"}},methods:{setPosition:function(t){if(this.$refs.uiPopover){var e=t.getBoundingClientRect(),o=this.$refs.uiPopover.parentNode;"static"===document.defaultView.getComputedStyle(o).position&&(o.style.position="relative");var i=o.getBoundingClientRect(),s=document.documentElement.clientWidth,p=(document.documentElement.clientHeight,this.width),n=(this.$refs.uiPopover.offsetHeight,t.offsetWidth),r=(t.offsetHeight,e.top-i.top+o.scrollTop),f=e.left-i.left+o.scrollLeft;if("right"==this.positon)s-n-f<p?(this.$refs.uiPopover.style.left=f-10-p+"px",this.$refs.uiPopover.style.top=r+"px",this.pos="left"):(this.$refs.uiPopover.style.left=n+f+10+"px",this.$refs.uiPopover.style.top=r+"px",this.pos="right");"left"==this.positon&&(f<p?(this.$refs.uiPopover.style.left=f+n+10+"px",this.$refs.uiPopover.style.top=r+"px",this.pos="right"):(this.$refs.uiPopover.style.left=f-p-10+"px",this.$refs.uiPopover.style.top=r+"px",this.pos="left"))}},addClick:function(){var t=this,e="";document.body.addEventListener("click",function(o){if(t.canshow){var i=[];!function t(e){e&&"BODY"!=e.tagName&&(i.push(e),t(e.parentNode))}(o.target);for(var s=0;s<i.length;s++){if("uipopover"==i[s].getAttribute("data-popver"))return;if(i[s].getAttribute("data-"+t.pref))return i[s]===e?t.show=!t.show:t.show=!0,e=i[s],void t.setPosition(i[s])}t.show=!1}else t.show=!1})}},mounted:function(){this.addClick()},install:function(e){e.component(t.name,t)}};return t});
